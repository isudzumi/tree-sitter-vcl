==================
Backend
==================

backend backend_name_0 {
  .connect_timeout = 1s;
  .dynamic = true;
  .port = "443";
  .host = "example.com";
  .first_byte_timeout = 20s;
  .max_connections = 500;
  .between_bytes_timeout = 20s;
  .share_key = "6FxweUD4BuxaP3diaJvYJXo";
  .ssl = true;
  .ssl_sni_hostname = "example.com";
  .ssl_cert_hostname = "example.com";
  .ssl_check_cert = always;
}

---

(program
  (backend_declaration
    name: (identifier)
    (backend_attribute
      name: (identifier)
      (rtime))
    (backend_attribute
      name: (identifier)
      (true))
    (backend_attribute
      name: (identifier)
      (string
        (string_fragment)))
    (backend_attribute
      name: (identifier)
      (string
        (string_fragment)))
    (backend_attribute
      name: (identifier)
      (rtime))
    (backend_attribute
      name: (identifier)
      (number))
    (backend_attribute
      name: (identifier)
      (rtime))
    (backend_attribute
      name: (identifier)
      (string
        (string_fragment)))
    (backend_attribute
      name: (identifier)
      (true))
    (backend_attribute
      name: (identifier)
      (string
        (string_fragment)))
    (backend_attribute
      name: (identifier)
      (string
        (string_fragment)))
    (backend_attribute
      name: (identifier)
      (identifier))))

==================
Director
==================

director director_name_0 random {
  .quoram = 50%;
  .retries = 3;
  { .backend = F_backend1; .weight = 2; }
  { .backend = F_backend2; .weight = 1; }
  { .backend = F_backend3; .weight = 1; }
}

---

(program
  (director_declaration
    name: (identifier)
    type: (identifier)
    (backend_attribute
      name: (identifier)
      (identifier))
    (backend_attribute
      name: (identifier)
      (number))
    (backend_field
      (backend_attribute
        name: (identifier)
        (identifier))
      (backend_attribute
        name: (identifier)
        (number)))
    (backend_field
      (backend_attribute
        name: (identifier)
        (identifier))
      (backend_attribute
        name: (identifier)
        (number)))
    (backend_field
      (backend_attribute
        name: (identifier)
        (identifier))
      (backend_attribute
        name: (identifier)
        (number)))))

